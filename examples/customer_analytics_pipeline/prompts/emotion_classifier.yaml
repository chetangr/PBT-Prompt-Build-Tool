name: emotion_classifier
version: 1.0.0
description: Classifies emotions based on sentiment analysis results
depends_on:
  - ref('sentiment_analyzer')
variables:
  - sentiment_data
  - emotion_taxonomy
  - cultural_context
template: |
  Classify emotions from sentiment analysis:
  
  Sentiment Data: {{ sentiment_data }}
  Emotion Taxonomy: {{ emotion_taxonomy }}
  Cultural Context: {{ cultural_context }}
  
  For each feedback item with sentiment:
  1. Identify primary emotion (joy, anger, fear, sadness, surprise, disgust)
  2. Detect secondary emotions if present
  3. Assess emotional intensity (1-10)
  4. Consider cultural factors in interpretation
  5. Identify emotion triggers in the text
  
  Return data enriched with emotional classification.
model_config:
  temperature: 0.4
  max_tokens: 1200
examples:
  - input:
      sentiment_data: '[{"text": "extremely frustrated with repeated errors", "sentiment": "negative", "intensity": 4}]'
      emotion_taxonomy: "plutchik"
      cultural_context: "western"
    output: |
      [
        {
          "text": "extremely frustrated with repeated errors",
          "sentiment": "negative",
          "primary_emotion": "anger",
          "secondary_emotions": ["frustration"],
          "emotional_intensity": 8,
          "triggers": ["repeated errors"],
          "action_tendency": "complaint"
        }
      ]
tags:
  - nlp
  - emotion-analysis
  - psychology
config:
  materialized: view