name: report_generator
version: 1.0.0
description: Generates executive reports from sentiment analysis
depends_on:
  - ref('sentiment_analyzer')
  - ref('data_cleaner')
variables:
  - sentiment_data
  - report_format
  - time_period
template: |
  Generate an executive report based on the following sentiment analysis data:
  
  Sentiment Data: {{ sentiment_data }}
  Report Format: {{ report_format }}
  Time Period: {{ time_period }}
  
  The report should include:
  1. Executive summary
  2. Key metrics and trends
  3. Notable patterns or concerns
  4. Recommendations based on findings
  
  Format the report according to the specified format ({{ report_format }}).
model_config:
  temperature: 0.5
  max_tokens: 2000
examples:
  - input:
      sentiment_data: "[{sentiment: positive, count: 150}, {sentiment: negative, count: 30}]"
      report_format: "markdown"
      time_period: "Q4 2023"
    output: |
      # Customer Sentiment Report - Q4 2023
      
      ## Executive Summary
      Overall customer sentiment remains strongly positive with 83% satisfaction rate...
tags:
  - reporting
  - analytics
config:
  materialized: incremental
  unique_key: report_id
  on_schema_change: sync_all_columns